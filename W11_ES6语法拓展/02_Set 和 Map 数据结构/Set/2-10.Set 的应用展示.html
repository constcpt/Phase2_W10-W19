<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Set 的应用</title>
  </head>
  <body>
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <script>
      // 1.数组去重
      // 步骤一：把数组转换成 Set
      // [1, 2, 1];
      const s = new Set([1, 2, 1]);
      console.log(s); // Set(2) {1, 2}
      // 步骤二：把 Set 转回成数组，方法有很多种
      // const newArr = [];
      // s.forEach((value, key, set) => {
      //   newArr.push(value);
      // });
      // console.log(newArr); // [1, 2]

      // const newArr = [...s];
      // console.log(newArr); // [1, 2]

      // console.log(Array.from(s)); // [1, 2]

      // 一步到位
      console.log([...new Set([1, 2, 1])]); // [1, 2]

      // 2.字符串去重
      // 步骤一：把字符串转换成 Set
      // 'abbacbd';
      const strSet = new Set("abbacbd");
      console.log(strSet); // Set(4) {"a", "b", "c", "d"}
      // 步骤二：把 Set 转回成字符串
      // console.log([...strSet].join('')); // abcd
      // 一步到位
      console.log([...new Set("abbacbd")].join("")); // abcd

      // 3.存放 DOM 元素
      // console.log(document.querySelectorAll('p')); // NodeList(3) [p, p, p]
      // for (let index = 0; index < document.querySelectorAll('p').length; index++) {
      //   const element = document.querySelectorAll('p')[index];
      //   element.style.color = 'red';
      //   element.style.backgroundColor = 'yellow';
      // }

      // 直接把 NodeList 扔到 Set 的构造函数里
      const eleSet = new Set(document.querySelectorAll("p"));
      console.log(eleSet); // Set(3) {p, p, p}
      // 这种遍历方式不需要通过索引来遍历
      eleSet.forEach((elem) => {
        // console.log(elem);
        elem.style.color = "red";
        elem.style.backgroundColor = "yellow";
      });
    </script>
  </body>
</html>
