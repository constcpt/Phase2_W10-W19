<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>2-4.数组解构赋值的默认值</title>
  </head>
  <body>
    <script>
      // 1.默认值的基本用法
      // const [a, b] = [];
      // 等同于 const [a, b] = [undefined, undefined];

      // const [a = 1, b = 2] = []; // 设置默认值
      // console.log(a, b); // 1 2

      // 2.默认值的生效条件
      // 只有当一个数组成员严格等于（===）undefined 时，对应的默认值才会生效
      // const [a = 1, b = 2] = [3, 0];
      // console.log(a, b); // 3 0

      // const [a = 1, b = 2] = [3, null];
      // console.log(a, b); // 3 null，因为null不严格等于undefined

      // const [a = 1, b = 2] = [3];
      // console.log(a, b); // 3 2

      // 3.默认值表达式
      // 如果默认值是表达式，默认值表达式是惰性求值的（用不到默认值时表达式不会执行）
      const func = () => {
        console.log('我被执行了');
        return 2;
      };
      // const [x = func()] = [1];
      // console.log(x); // 用不到默认值时表达式不会执行，只会打印 1
      const [x = func()] = [];
      console.log(x); // 用到默认值时表达式才会执行，会打印 '我被执行了' 和 2
    </script>
  </body>
</html>
